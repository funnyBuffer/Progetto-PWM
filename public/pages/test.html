<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Spacchettamento Bustina</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>
    /* Effetto animazione per la transizione */
    .animate-open {
      animation: openPack 1s forwards;
    }
    @keyframes openPack {
      0% { opacity: 1; transform: scale(1); }
      100% { opacity: 0; transform: scale(1.2); }
    }
    /* Effetto fade per le carte */
    .fade-in {
      animation: fadeIn 1s forwards;
      opacity: 0;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }
  </style>
</head>
<body>

  <div class="container text-center mt-5 pt-5">
    <h1>Benvenuto nel sito di carte Marvel!</h1>
    <p>Scopri le carte collezionabili aprendo una bustina.</p>
    <!-- Bottone per aprire il modal -->
    <button type="button" class="btn btn-danger btn-lg" data-bs-toggle="modal" data-bs-target="#packModal">
      Apri la Bustina
    </button>
  </div>

  <!-- Modal di Spacchettamento -->
  <div class="modal fade" id="packModal" tabindex="-1" aria-labelledby="packModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="packModalLabel">Spacchettamento</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Chiudi"></button>
        </div>
        <div class="modal-body">
          <!-- Immagine della bustina chiusa -->
          <img id="packImage" src="images/closed_pack.png" class="img-fluid" alt="Bustina chiusa">
          <!-- Sezione per mostrare le carte (nascosta inizialmente) -->
          <div id="cardsContainer" class="mt-3 d-none">
            <img src="images/card1.png" alt="Carta 1" class="img-thumbnail fade-in" style="max-width: 100px;">
            <img src="images/card2.png" alt="Carta 2" class="img-thumbnail fade-in" style="max-width: 100px;">
            <img src="images/card3.png" alt="Carta 3" class="img-thumbnail fade-in" style="max-width: 100px;">
          </div>
        </div>
        <div class="modal-footer">
          <button id="openPack" class="btn btn-primary">Apri Bustina</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
          crossorigin="anonymous"></script>
  <script>
    // Quando si clicca "Apri Bustina"
    document.getElementById('openPack').addEventListener('click', function() {
      const packImage = document.getElementById('packImage');
      // Aggiungi classe per animazione di apertura
      packImage.classList.add('animate-open');
      
      // Dopo l'animazione, nascondi l'immagine della bustina e mostra le carte
      setTimeout(function() {
        packImage.classList.remove('animate-open');
        packImage.classList.add('d-none');
        document.getElementById('cardsContainer').classList.remove('d-none');
      }, 1000); // 1000ms corrisponde alla durata dell'animazione
    });
  </script>
</body>
</html>
